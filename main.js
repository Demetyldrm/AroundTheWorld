!function(){"use strict";class e{constructor(e,t,s){this._name=e.name,this._link=e.link,this._handleImageClick=s,this._cardSelector=t}_setEventListeners(){this._likeButton=this._cardElement.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link,src:this._name})}))}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardTitle=this._cardElement.querySelector(".card__subtitle"),this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._formSelector=e.formSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t,this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)]}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent=""}_toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disableButton():this._enableButton()}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}class n extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=[...this._popupForm.querySelectorAll(".modal__input")],this._handleFormSubmit=s}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._popupForm.reset()}))}}const o={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible",formSelector:".modal__form"},i=document.querySelector("#profile-edit-button"),r=document.querySelector(".profile__add-button"),l=document.querySelector("#profile-title-input"),a=document.querySelector("#profile-description-input"),c=document.querySelector(".profile__title"),u=document.querySelector(".profile__description"),d=document.querySelector("#profile-edit-modal").querySelector(".modal__form"),m=document.querySelector("#add-card-modal"),_=m.querySelector(".modal__form");document.querySelector(".cards__list");const p=t=>{const s=function(t){return new e(t,"#card-template",b).getView()}(t);h.addItem(s)},h=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:p},".cards__list");h.renderItems();const E=new class extends s{constructor(e){super({popupSelector:e}),this._cardImageElement=this._popupElement.querySelector(".modal__image"),this._cardTitleElement=this._popupElement.querySelector(".modal__caption")}open(e){this._cardImageElement.src=e.link,this._cardImageElement.alt=e.name,this._cardTitleElement.textContent=e.name,super.open()}}("#image-modal");E.setEventListeners();const S=new n({popupSelector:"#profile-edit-modal",handleFormSubmit:function(e){const t=e.title,s=e.description;v.setUserInfo({name:t,description:s}),S.close(),d.reset()}});S.setEventListeners();const f=new n({popupSelector:"#add-card-modal",handleFormSubmit:function(e){const t=e.title,s=e.url;p({name:t,link:s}),_.reset(),f.close(),g.disableButton()}});f.setEventListeners();const v=new class{constructor(e,t){this._profileName=e,this._profileJob=t}getUserInfo(){return{name:this._profileName.textContent,description:this._profileJob.textContent}}setUserInfo(e){this._profileName.textContent=e.name,this._profileJob.textContent=e.description}}(c,u);function b(e){E.open(e)}i.addEventListener("click",(()=>{const{description:e,name:t}=v.getUserInfo();l.value=t,a.value=e,S.open()})),r.addEventListener("click",(()=>{f.open()})),new t(o,d).enableValidation();const g=new t(o,m);g.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2hDSCxFQUFpQjNDLE1BQU0sSUFJekJrQixFQUFpQmhGLGlCQUFpQixTQUFTLEtBQ3pDK0csRUFBYWpELE1BQU0sSUFHWSxJQUFJOUMsRUFBY0MsRUFBVW9FLEdBQ3BDaEMsbUJBQ3pCLE1BQU00RCxFQUFtQixJQUFJakcsRUFBY0MsRUFBVXFFLEdBQ3JEMkIsRUFBaUI1RCxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7XG4gICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgIGxpbms6IHRoaXMuX2xpbmssXG4gICAgICAgIHNyYzogdGhpcy5fbmFtZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19zdWJ0aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWwgPSBmb3JtRWw7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIildO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgZGF0YVtpbnB1dEVsLm5hbWVdID0gaW5wdXRFbC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbn07XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgc2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVsZW1lbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgcHJvZmlsZU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmNvbnN0IHByb2ZpbGVKb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG5jb25zdCBhZGRDYXJkRm9ybUVsZW1lbnQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG4vL0NyZWF0aW5nIGNhcmQgaW5zdGFuY2VzXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5jb25zdCByZW5kZXJDYXJkID0gKGNhcmREYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xufTtcblxuLy9TZWN0aW9uLmpzXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHsgaXRlbXM6IGluaXRpYWxDYXJkcywgcmVuZGVyZXI6IHJlbmRlckNhcmQgfSxcbiAgXCIuY2FyZHNfX2xpc3RcIlxuKTtcblxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG4vL1BvcHVwV2l0aEltYWdlLmpzXG5jb25zdCBuZXdJbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xubmV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL1BvcHVwV0l0aEZvcm0uanNcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCxcbn0pO1xuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2FkZCBuZXcgY2FyZFxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNhZGQtY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCxcbn0pO1xubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vVXNlckluZm9cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lRWxlbWVudCwgcHJvZmlsZUpvYkVsZW1lbnQpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQodXNlckRhdGEpIHtcbiAgY29uc3QgbmFtZSA9IHVzZXJEYXRhLnRpdGxlO1xuICBjb25zdCBkZXNjcmlwdGlvbiA9IHVzZXJEYXRhLmRlc2NyaXB0aW9uO1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pO1xuICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIHByb2ZpbGVFZGl0Rm9ybS5yZXNldCgpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCh1c2VySW5mbykge1xuICBjb25zdCBuYW1lID0gdXNlckluZm8udGl0bGU7XG4gIGNvbnN0IGxpbmsgPSB1c2VySW5mby51cmw7XG4gIHJlbmRlckNhcmQoeyBuYW1lLCBsaW5rIH0sIGNhcmRMaXN0RWwpO1xuICBhZGRDYXJkRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gIGFkZEZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XG4gIG5ld0ltYWdlUG9wdXAub3BlbihjYXJkRGF0YSk7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFdmVudCBMaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBFZGl0IFByb2ZpbGUgZm9ybVxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgeyBkZXNjcmlwdGlvbiwgbmFtZSB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBuYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGRlc2NyaXB0aW9uO1xuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vLyBBZGQgbmV3IGNhcmQgZm9ybVxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBwcm9maWxlRWRpdEZvcm0pO1xucHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZE1vZGFsKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNsYXNzU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGFzc1NlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsZW1lbnQgPVxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcihwcm9maWxlTmFtZUVsZW1lbnQsIHByb2ZpbGVKb2JFbGVtZW50KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBwcm9maWxlTmFtZUVsZW1lbnQ7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IHByb2ZpbGVKb2JFbGVtZW50O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJEYXRhKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5kZXNjcmlwdGlvbjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9jYXJkU2VsZWN0b3IiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ1dHRvbiIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2RlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRJbWFnZUVsZW1lbnQiLCJzcmMiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiYWx0IiwiX2NhcmRUaXRsZSIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJfaW5wdXRFbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsImlucHV0TGlzdCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImRhdGEiLCJ2YWx1ZSIsInJlc2V0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGROZXdDYXJkQnV0dG9uIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVOYW1lRWxlbWVudCIsInByb2ZpbGVKb2JFbGVtZW50IiwicHJvZmlsZUVkaXRGb3JtIiwiYWRkQ2FyZE1vZGFsIiwiYWRkQ2FyZEZvcm1FbGVtZW50IiwicmVuZGVyQ2FyZCIsImNhcmQiLCJjcmVhdGVDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjbGFzc1NlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIm5ld0ltYWdlUG9wdXAiLCJfY2FyZFRpdGxlRWxlbWVudCIsImVkaXRQcm9maWxlUG9wdXAiLCJ1c2VyRGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwibmV3Q2FyZFBvcHVwIiwidXJsIiwiYWRkRm9ybVZhbGlkYXRvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9